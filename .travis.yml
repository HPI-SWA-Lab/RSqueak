language: python
python:
  - 2.7
env:
  matrix:
    - TEST_TYPE=default BUILD_ARCH=32bit BUILD_TYPE=test
    - TEST_TYPE=default BUILD_ARCH=32bit BUILD_TYPE=build
    - TEST_TYPE=default BUILD_ARCH=64bit BUILD_TYPE=test
    - TEST_TYPE=default BUILD_ARCH=64bit BUILD_TYPE=build
matrix:
  fast_finish: true
  allow_failures:
    - env: TEST_TYPE=default BUILD_ARCH=64bit BUILD_TYPE=test
    - env: TEST_TYPE=default BUILD_ARCH=64bit BUILD_TYPE=build
install:
  - export chroot="$PWD"/buildroot.i386
  - .travis/setup_chroot.sh
script:
  - if [ "$BUILD_TYPE" == test ]; then .travis/test.sh; fi
  - if [ "$BUILD_TYPE" == build ]; then .travis/build.sh; fi
